import csv

N = 25
jabatan = ['General manager','karyawan','Office Boy']
gajipokok = [250000,100000,50000]
tunjangan = [1000000,400000,200000]
pajakgm = 0.02 #dari gaji pokok
pajakk = 0.01 #dari gaji pokok
pajakob = 0.005 #dari gaji pokok
lembur = 50000 #per jam
lemburtglmrh = 300000 #satu hari kerja
dendatelat = 50000
#denda telat dihitung per jam dengan toleransi keterlambatan 5 menit

print('No.','\t','Jabatan','\t','Gaji Pokok','\t','Tunjangan')
for i in range(3):
    print(i+1,'\t',jabatan[i],'\t',gajipokok[i],'\t',tunjangan[i])


listgaji = []
listgaji.append(['NIP','Nama','Jabatan','Gaji Pokok','Tunjangan','Uang Lembur','Gaji Kotor',
                 'Asuransi','Pajak','Telat','Potongan','Gaji Bersih'])
dtkaryawan = {}

iterasi = True

while iterasi == True:
    data = []
    #datanya = (data) 
    nama = input('Nama Karyawan : ')
    NIP = input('Nomor Induk Pegawai : ')
    jbt = int(input('Nomor jabatan : '))
    data.append(NIP)
    data.append(nama)
    data.append(jabatan[jbt-1])
    if jbt == 1:
        c = float(input('Banyak cuti : '))
        l = int(input('Banyaknya jam lembur : '))
        merah = int(input('Banyaknya masuk di tanggal merah atau hari Minggu : '))
        t = int(input('Banyaknya jam keterlambatan : '))
        if c <= 2:
            gpk = (N)*gajipokok[0]
        else:
            gpk = (N - (c-2))*gajipokok[0]
        lemburan = l * lembur + merah * lemburtglmrh
        gajikotor = gpk + tunjangan[0] + lemburan
        asuransi = 0.02 * gpk
        pajak = pajakgm * gpk
        telat = t * dendatelat
        potongan = telat + asuransi + pajak
        gajibersih = gajikotor - potongan
        data.append(gpk)
        data.append(tunjangan[0])
        data.append(lemburan)
        data.append(gajikotor)
        data.append(asuransi)
        data.append(pajak)
        data.append(telat)
        data.append(potongan)
        data.append(gajibersih)
        dtkaryawan[nama] = data
        listgaji.append(data)
    elif jbt == 2:
        c = float(input('Banyak cuti : '))
        l = int(input('Banyaknya jam lembur : '))
        merah = int(input('Banyaknya masuk di tanggal merah atau hari Minggu : '))
        t = int(input('Banyaknya jam keterlambatan : '))
        if c <= 2:
            gpk = (N)*gajipokok[1]
        else:
            gpk = (N - (c-2))*gajipokok[1]
        lemburan = l * lembur + merah * lemburtglmrh
        gajikotor = gpk + tunjangan[1] + lemburan
        asuransi = 0.02 * gpk
        pajak = pajakgm * gpk
        telat = t * dendatelat
        potongan = telat + asuransi + pajak
        gajibersih = gajikotor - potongan
        data.append(gpk)
        data.append(tunjangan[1])
        data.append(lemburan)
        data.append(gajikotor)
        data.append(asuransi)
        data.append(pajak)
        data.append(telat)
        data.append(potongan)
        data.append(gajibersih)
        dtkaryawan[nama] = data
        listgaji.append(data)
    elif jbt == 3:
        c = float(input('Banyak cuti : '))
        l = int(input('Banyaknya jam lembur : '))
        merah = int(input('Banyaknya masuk di tanggal merah atau hari Minggu : '))
        t = int(input('Banyaknya jam keterlambatan : '))
        if c <= 2:
            gpk = (N)*gajipokok[2]
        else:
            gpk = (N - (c-2))*gajipokok[2]
        lemburan = l * lembur + merah * lemburtglmrh
        gajikotor = gpk + tunjangan[2] + lemburan
        asuransi = 0.02 * gpk
        pajak = pajakgm * gpk
        telat = t * dendatelat
        potongan = telat + asuransi + pajak
        gajibersih = gajikotor - potongan
        data.append(gpk)
        data.append(tunjangan[2])
        data.append(lemburan)
        data.append(gajikotor)
        data.append(asuransi)
        data.append(pajak)
        data.append(telat)
        data.append(potongan)
        data.append(gajibersih)
        dtkaryawan[nama] = data
        listgaji.append(data)
    else:
        print('data tidak terdeteksi')
    
    x = input('apakah ada data lagi? (y/n) : ')
    if x != 'y':
        iterasi = False

for gaji in listgaji:
          gaji[6],'\t',gaji[7],'\t',gaji[8],'\t',gaji[9],'\t',gaji[10],'\t',gaji[11])
f = open('karyawan.csv','w')
w = csv.writer(f)
w.writerows(listgaji)
    
f.close()
